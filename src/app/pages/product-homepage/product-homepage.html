<main>
    <nav>
        <app-nav></app-nav>
    </nav>
    <section>
        <div class="topNav">
            首頁<span class="slash">/</span>女鞋<span class="slash">/</span>
            <span class="allProduct">所有商品</span>
        </div>
        <div class="girlShoe">女鞋</div>

        <!-- 搜尋框 -->
        <div class="searchBox">
            <input type="text" [(ngModel)]="searchText" (input)="onSearch()" placeholder="搜尋商品名稱..."
                class="searchInput" />
        </div>

        <div class="listBox">
            <div class="listSide">
                <ul>
                    <li [class.active]="selectedCategory === '所有商品'" (click)="filterByCategory('所有商品')">所有商品</li>
                    <li [class.active]="selectedCategory === '慢跑鞋'" (click)="filterByCategory('慢跑鞋')">慢跑鞋</li>
                    <li [class.active]="selectedCategory === '滑板鞋'" (click)="filterByCategory('滑板鞋')">滑板鞋</li>
                    <li [class.active]="selectedCategory === '厚底鞋'" (click)="filterByCategory('厚底鞋')">厚底鞋</li>
                    <li>限定聯名企劃</li>
                </ul>
            </div>

            <div class="productGrid">
                @if (filteredProducts.length === 0) {
                <div class="noResults">
                    <p>重新載入，或點選分類!</p>
                </div>
                }

                @for (product of filteredProducts; track $index) {
                <div class="listContent" [class.hide-on-desktop]="$index === 9">
                    <a routerLink="/ProductCollectpage"><img [src]="product['圖片']" [alt]="product['名稱']"></a>
                    <div class="title">{{ product['名稱'] }}</div>
                    <div class="price">NT$ {{ product['價格'] }}</div>
                </div>
                }

            </div>
        </div>
    </section>
    <footer>
        <app-footer></app-footer>
    </footer>
</main>